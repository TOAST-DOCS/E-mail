## Notification > Email > 概要

Emailを使用すると、メール送信、予約送信、送信履歴照会、テンプレート管理機能を使用できます。
<br>簡単に連携できるようにRESTful APIで使用できます。

## 主な機能

- 大量送信サポート
	\- Excelファイルで受信者リストを入力し、大量にメールを送信できます。
- タグ送信サポート
	\- タグを使用して受信者リストを入力し、大量にメールを送信できます。
- 予約送信
	\- 希望する時間にメールを送信できます。
- 置換タグの提供
	\- 置換タグを利用して、受信者ごとにパーソナライズされたメールを送信できます。
- テンプレート機能の提供
	\- よく使用するメールはテンプレートに登録して使用できます。

- 顧客のアプリケーションで使用できるメール送信と照会RESTful APIを使用できます。

## 送信前の注意事項
NHN Cloud Emailサービスを使用して送信したメールが、外部メールサービスでスパムメール処理されることを防止するには、次の事項に注意する必要があります。

1．DNSを設定する必要があります。 <br/>
NHN Cloud Emailサービスのメール送信(SMTP)サーバーを通して、ユーザー所有のドメインが含まれたメールアドレスで送信されるため、ユーザー所有のドメインがサービスされるDNSに追加設定を行う必要があります。<br/> DNSのTXTレコードのSPF項目に、_spfblocka.toast.comを登録する必要があります。SPFの設定が正しくない場合、受信者のメールサービスではスパムメールまたは、送信者を詐称したメール送信とみなして警告を表示するか、「迷惑メールボックス」に保存されるため、正常なメール受信が難しくなる可能性があります。<br>
SPFの設定方法は、[問題解決ガイド](./troubleshooting-guide/)を参照してください。

2．Gmailは、ドメインの評判を重要視して、スパムメールを判定する主要基準にしています。ドメインの評判が低い送信者が、頻繁に大量のメールを送信したり、受信者が望まない広告性メールを送信すると、受信者の'メールボックス'に保存されても警告が表示されるか、'迷惑メールボックス'に保存されます。ひどい場合は受信速度が制限されたり、受信が拒否される場合があります。そのため、メールを大量に送信したい方は、次のガイドのドメイン評判管理方法を参照して、常にドメインの評判を高く維持できるように気をつける必要があります。<br>
詳細は、[問題解決ガイド](./troubleshooting-guide/)を参照してください。

## 参考

<span id='tags-and-uids'></span>
### タグとUID

#### サービス用語
|用語|	説明|
|---|---|
|タグ(tag)|UIDを分類するシステム。<br>UIDに複数のタグをつけてユーザーが容易にUID情報を検索して使用できます。|
|UID|ユーザーを区分するID(識別子)。<br>1つのUIDには複数の連絡先を登録して送信に使用できます。 |
|連絡先(contact)|連絡をするために決めておいた場所。<br>Notificationでは、Push、Email、SMSの3つのサービスで連絡先を登録できます。 <br>Pushはトークン、Emailはメールアドレス、SMSは電話番号です。|

#### タグを使用して送信
* 受信者情報であるメールアドレスの代わりに、タグを選択してメールを送信できる機能です。

1. UIDを登録します。

* **UID管理**タブで、UIDと1つまたは複数のメールアドレスを登録します。
* 詳細は[UID管理](./console-guide/#uid)を参照してください。

2. タグを登録します。

* **タグ管理**タブでタグを登録します。
* 詳細は[タグ管理](./console-guide/#_11)を参照してください。

3. タグにUIDを登録します。

* **タグ管理**タブで登録したタグにUIDを登録します。

4. タグを選択し、メールを送信します。

* **メール送信**タブで、メールアドレスの代わりに**タグ送信**を選択してタグを登録します。
* メールはタグに登録されたUIDのメールアドレスで送信されます。
* 詳細は[タグを使用したメール送信](./console-guide/#_6)を参照してください。

#### 他のサービスのタグ機能との関係
* 同じプロジェクトでPushまたはSMSサービスを使用している場合は、Emailで使用しているタグとUID情報を再登録せずに一緒に使用できます。
* 各サービスのコンソールで同じUIDに他の連絡先を追加できます。

### ユーザー指定ヘッダ(Custom header)

* 受信メールにユーザー指定ヘッダを追加して送信できます。
* NHN Cloud Emailサービスでは、[RFC 822](https://www.ietf.org/rfc/rfc0822.txt)で説明されている形式に沿ったヘッダを使用できます。

#### リクエストできないヘッダ

* From
* To
* Cc
* Bcc
* Date
* Subject
* Content-Disposition
* Message-ID
* Sender
* Reply-To
* Newsgroups
* Content-ID
* Content-MD5
* MIME-Version
* Content-Transfer-Encoding
* Content-Description

#### 構成

| 用語 | 説明 |
|---|---|
|ヘッダ名| 追加するヘッダの名前。<br>英数字(a-z、A-Z、0-9)、ハイフン(-)のみ使用して1-50文字で作成します。 |
|ヘッダ値| 追加するヘッダの値。 <br>1-1000バイトで作成します。<br>ASCIIではない文字はBase64にエンコードして送信します。 |

### データ保管期間
Emailサービスは保管ポリシーに従い、過去90日間のデータのみを保管します。
保管期間が過ぎたデータは削除され、照会できません。